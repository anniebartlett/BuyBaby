<div class="container">
    <div class="d-flex justify-content-center">
      <div class="d-flex flex-row mt-3 mb-2">
        <h5 class="mx-3"><%= link_to "Toys", products_path(query: "Playtime"), class: "category-links" %></h5>
        <h5 class="mx-3"><%= link_to "Boys Clothing", products_path(query: "Boys-clothing"), class: "category-links" %></h5>
        <h5 class="mx-3"><%= link_to "Girls Clothing", products_path(query: "Girls-clothing"), class: "category-links" %></h5>
        <h5 class="mx-3"><%= link_to "Nursery", products_path(query: "Nursery"), class: "category-links" %></h5>
        <h5 class="mx-3"><%= link_to "Pushchairs", products_path(query: "Pushchairs"), class: "category-links" %></h5>
      </div>
    </div>
    <div class="center">
      <h2 class="item-1 position-absolute d-block">⭐️ Find excellent quality pre-loved items for your baby ⭐️</h2>
      <h2 class="item-2 position-absolute d-block">⭐️ Sell unused clothes and make some money ⭐️</h2>
      <h2 class="item-3 position-absolute d-block">⭐️ Support your local parent community ⭐️</h2>
    </div>
    <div id="buybaby" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#buybaby" data-slide-to="0" class="active"></li>
        <li data-target="#buybaby" data-slide-to="1"></li>
        <li data-target="#buybaby" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <%= image_tag("carousel_1.jpg", class: "d-block carousel-img" )%>
            <div class="carousel-caption text-left">
              <h1 class="carousel-heading caption-1">New arrivals</h1>
              <p class="caption-1" style="font-size: 20px;">Check out our new finds this week!</p>
              <p>
                <%= link_to "View Items", products_path, class: "btn btn-warning text-white"%>
              </p>
            </div>
        </div>
        <div class="carousel-item">
          <%= image_tag("carousel_2.jpg", class: "d-block carousel-img" )%>
             <div class="carousel-caption text-left">
                <h1 class="carousel-heading caption-2">Sale items</h1>
                <p class="caption-2" style="font-size: 20px;">Bargains you will love</p>
                <p>
                  <%= link_to "View Sales", products_path(query: "sell"), class: "btn btn-danger text-white"%>
                </p>
             </div>
        </div>
        <div class="carousel-item">
          <%= image_tag("carousel_3.jpg", class: "d-block carousel-img" )%>
             <div class="carousel-caption text-left">
                <h1 class="carousel-heading caption-3">Swap & save</h1>
                <p class="caption-3" style="font-size: 20px;">Preloved items you don't want to miss!</p>
                <p>
                  <%= link_to "View Swaps", products_path(query: "swap"), class: "btn btn-successs text-white"%>
                </p>
             </div>
        </div>
        <a class="carousel-control-prev" href="#buybaby" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#buybaby" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
    <div class="divider my-3" style="display: flex;">
      <hr style="width:50%; text-align:left; margin-left:0;margin-right:0;margin-top: 40px;height:2px;border-width:0;color:#FFDA1F;background-color:#FFDA1F">
        <%= image_tag("logo.png", width: "90px", height: "90px", class: "logo" )%>
      <hr style="width:50%; text-align:left; margin-left:0;margin-right:0;margin-top: 40px;height:2px;border-width:0;color:#FFDA1F;background-color:#FFDA1F">
    </div>
    <div class="about text-center">
      <div class="d-flex flex-row justify-content-center">
        <h1 style="font-size: 56px;">Buy</h1>
        <h1 style="color: #9CF6F6;font-size: 56px;">Ba</h1>
        <h1 style="color: #FFE357;font-size: 56px;">by</h1>
      </div>
      <h3 class="text-dark mt-2">A place for parents to shop and swap locally</h3>
      <div class="mt-5">
        <h6 class="text-dark">Search and browse over 100s pre-loved baby, toddler, and maternity items to buy</h6>
        <h6 class="text-dark">Or explore items available to swap with other parents nearby</h6>
      </div>
      <div class="mt-5">
        <h4 class="text-dark">How it works:</h4>
      </div>
      <div class="d-flex flex-row justify-content-around">
        <%= image_tag "free.png", alt: "free" %>
        <%= image_tag "list.png", alt: "list" %>
        <%= image_tag "money.png", alt: "money" %>
      </div>
      <div class="d-flex flex-row justify-content-around">
        <div class="w-25"><p>Advertise your items for free on BuyBaby</p></div>
        <div class="w-25"><p>Connect with other parents locally to swap or sell your item</p></div>
        <div class="w-25"><p>Earn money from selling old items or save by swapping!</p></div>
      </div>
    </div>
    <div class="category-headings">
      <hr style="width:100%; text-align:left; margin-left:0;margin-right:0;margin-top: 40px;height:2px;border-width:0;color:#FFDA1F;background-color:#FFDA1F">
      <h1 class="text-dark text-center my-5">Explore our categories</h1>
      <div class="row justify-content-center">
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">Toys</h3>
          </div>
        </div>
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">Nursery</h3>
          </div>
        </div>
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">Pushchairs</h3>
          </div>
        </div>
      </div>
    </div>
    <div class="category-cards d-flex flex-row justify-content-center">
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('toys.jpg', class: 'card-img', alt: 'Card image')%>
        <%= link_to products_path(query: "Playtime"), class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">Toys</h5>
          <p class="card-text category-text">Playtime & Fun</p>
        <% end %>
      </div>
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('nursery1.jpeg', class: 'card-img', alt: "Card image") %>
        <%= link_to products_path(query: "Nursery"), class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">Nursery</h5>
          <p class="card-text category-text">For your home</p>
        <% end %>
      </div>
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('pushchair_forest.jpg', class: 'card-img', alt: "Card image") %>
        <%= link_to products_path(query: "Pushchairs"), class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">Pushchair</h5>
          <p class="card-text category-text">Enjoy the outdoors</p>
        <% end %>
      </div>
    </div>
    <div class="category-headings">
      <div class="row justify-content-center">
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">Sale</h3>
          </div>
        </div>
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">New In</h3>
          </div>
        </div>
        <div class="col-md-4">
          <div class="divider" style="margin: 0 auto">
            <h3 class="mx-2 my-3">Swap</h3>
          </div>
        </div>
      </div>
    </div>
    <div class="category-cards d-flex flex-row justify-content-center">
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('sale.jpg', class: 'card-img', alt: 'Card image')%>
        <%= link_to products_path(query: "sell"), class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">Sale</h5>
          <p class="card-text category-text">Up to 50% off</p>
        <% end %>
      </div>
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('new arrivals.jpg', class: 'card-img', alt: "Card image") %>
        <%= link_to products_path, class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">New arrivals</h5>
          <p class="card-text category-text">Discover more</p>
        <% end %>
      </div>
      <div class="card text-white mx-2" style="height:16rem; width:60rem;">
        <%= image_tag('swap.jpg', class: 'card-img', alt: "Card image") %>
        <%= link_to products_path(query: "swap"), class: "card-img-overlay" do %>
          <h5 class="card-title category-card-title">Swap</h5>
          <p class="card-text category-text">Preloved items</p>
        <% end %>
      </div>
    </div>
    <div class="my-5">
      <hr style="width:100%;text-align:left;margin-left:0;margin-right:0;margin-top: 15px;height:2px;border-width:0;color:#FFDA1F;background-color:#FFDA1F">
      <h1 class="title text-center text-dark my-5">Search local items near you</h1>
    </div>
    <div class= "position-relative"
      id="map"
      style="width: 100%; height: 500px;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
    <div class="my-5">
      <hr style="width:100%;text-align:left;margin-left:0;margin-right:0;margin-top: 15px;height:2px;border-width:0;color:#FFDA1F;background-color:#FFDA1F">
      <h1 class="title text-center text-dark my-5">Featured Items</h1>
    </div>
     <div class="cards d-flex flex-wrap justify-content-center">
      <% @featured_products.each do |product| %>
        <div class="card border-rounded mb-4 mx-1" style="width: 16rem; height: 28rem;">
          <div class="card-body text-center">
            <%= link_to product_path(product) do %>
              <% product.photos.each_with_index do |photo, index| %>
                <%= cl_image_tag photo.key, height: 200, width: 200, crop: :fill, gravity: :center %>
              <% end %>
            <% end %>
            <%= link_to product_path(product) do%>
              <h5 class="card-title mt-1"><%= product.name.capitalize %></h5>
              <p class="card-text m-0" style="font-size: 14px">Category: <%= product.category %></p>
              <p class="card-text m-0" style="font-size: 14px">Condition: <%= product.condition %></p>
              <% if product.sale_type == "Swap" %>
                <p class="card-text m-0 pink-text" style="font-size: 14px">Sale type: <%= product.sale_type %></p>
              <% else %>
                <p class="card-text m-0 yellow-text" style="font-size: 14px">Sale type: <%= product.sale_type %></p>
              <% end %>
              <% if product.price_cents > 0 %>
                <p class="card-text m-0" style="font-size: 20px">£<%= product.price_cents %></p>
              <% end %>
            <% end %>
            <div class="rating text-center position-absolute">
              <%= link_to save_item_product_path(product), remote: true, method: :post do %>
                <%= render 'products/like_button', product: product %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
</div>
